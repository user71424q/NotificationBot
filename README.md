
# Чат-бот – помощник составления расписания

Этот проект представляет собой Telegram-бота, который позволяет создавать расписание мероприятий и связанных с ними задач с дедлайнами.

Проект предназначен для организаторов различных мероприятий, например, акселератора проектов, обучающих курсов.

## Особенности

- 2 роли: организатор и участник
- Загрузка информации о задачах из Excel-файла
- Организатор может создать несколько мероприятий, каждое из которых может содержать несколько задач с дедлайнами
- Организатор может настроить получателей для каждой задачи в отдельности
- Организатор может настроить, за сколько минут до дедлайна пользователь получит напоминание
- При получении напоминания участник может настроить, за сколько минут до дедлайна получить повторное напоминание

## Установка и настройка

Для функционирования проекта необходимы:
- MySQL или MariaDB (может быть запущена на другом доступном хосте)
- Python 3 версии 3.9 или новее
- Библиотеки для Python 3.9+, приведенные в файле `requirements.txt`

Чтобы развернуть у себя этот проект, выполните следующие шаги:

1. Создайте телеграм-бота в [BotFather](https://t.me/BotFather) и получите его токен.
2. В файл `config.ini` впишите:
- в поле `token` после знака "=" - токен бота, полученный от BotFather
- в поле `admins` - телеграм-теги (никнеймы) одного организатора либо нескольких организаторов через запятую.
  Знак `@` не нужно указывать перед никнеймом.
3. Создайте базу данных и подключение MySQL (или MariaDB).
- Авторизуйтесь в MySQL на Вашем сервере, на котором предполагается развернуть проект.
- В сеансе работы с MySQL создайте новую базу данных, введя команду:
  ```sql
  CREATE DATABASE наименование_базы_данных
  ```
  _Наименование базы данных необходимо будет потом внести в соответствующее поле своего экземпляра файла `dbconfig.ini`._
- При необходимости создайте нового пользователя в MySQL и выдайте ему права на все операции с созданной ранее базой данных.
  ```sql
  CREATE USER 'имя_пользователя' IDENTIFIED BY 'пароль';
  GRANT ALL PRIVILEGES ON наименование_базы_данных.* TO 'имя_пользователя';
  ```
- Для быстрого создания структуры таблиц в новой базе данных используйте SQL-сценарий `mysqldump.sql` из данного репозитория.
  В данный сценарий включено создание необходимой структуры данных и внесение ролей "Организатор" и "Участник".
  Введите в командной строке:
  ```bash
  mysql -u имя_пользователя -h ip_базы_данных -P порт наименование_базы_данных -p < mysqldump.sql
  ```
  _Если для соединения с MySQL используется порт по умолчанию 3306, то параметр `-P` можно не указывать._
  Затем введите пароль пользователя БД.
- Для проверки созданной структуры данных можно использовать следующие команды в сеансе MySQL:
  ```sql
  SHOW TABLES;
  DESC наименование_таблицы;
  ```
4. В файл `dbconfig.ini` впишите следующие параметры:
- `ip` - IP (или домен) сервера, на котором запущена СУБД MySQL (или MariaDB)
- `port` - Порт, на котором вещает MySQL, обычно 3306
- `dbcharset` - Кодировка в БД, обычно utf8mb4
- `username` - Имя пользователя MySQL с правами доступа к БД системы
- `password` - Пароль пользователя MySQL
- `dbname` - Наименование базы данных в MySQL
5. Попросите участников сообщить Вам телеграм-теги (никнеймы), если они Вам неизвестны.
6. Попросите участников в Telegram написать боту `/start`, так как телеграм-боты не могут начинать диалог.
7. Для запуска бота нужно установить внешние библиотеки, указанные в файле `requirements.txt`, и запустить файл `main.py` с использованием интерпретатора Python версии 3.9 или выше.

Для создания списка задач воспользуйтесь шаблоном таблицы xlsx в папке `template`

## Авторы

- [@user71424q](https://github.com/user71424q)
- [@st4rkaliv3](https://github.com/st4rkaliv3)
- [@Alinochka184](https://github.com/Alinochka184)
- [@EkaterinaIsupova](https://github.com/EkaterinaIsupova)


